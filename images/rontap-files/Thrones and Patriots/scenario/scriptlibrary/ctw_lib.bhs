include "game_structs.bhs"

void conquest place_new_world_army(int who, int x, int y);
String[] conquest tactics_deletion_list(String list_name); 
void conquest infrastructure_setup(int who, String city1, String city2, String city3);
String[] conquest build_deletion_list(int city_num);
void conquest alexander_setup();
void conquest new_world_rules(int who);
void conquest new_world_setup();
void conquest euro_pop_limit(int who);
void conquest native_unit_limiter(int who);
void conquest napoleon_rules();
void conquest coldwar_rules();
void conquest barbarian_rules();
void conquest barbarian_upgrade();
String conquest capitalize(String nation);
void conquest upgrade_unit_stats(String unit_name, int attack, int hp, int speed, int range, int los, int armor);
void conquest native_unit_upgrader(int who);
void conquest missing_allies();

void conquest missing_allies()
{

  int i;
  String city_name;
  int building;
  int x;
  int y;
  int map_size = get_map_size();
  int times;
  int end_loop;

  for (i = 3; i < 7; i++) {
    for (j = 1; j < 3; j++) {
      if (have_alliance(i, j)) {
        if (num_units(i) == 0) {
          x = get_starting_loc_x(i);
          y = get_starting_loc_y(i);   
          if (!map_is_land(x,y)) {
            force_transport_ability(i);
          } 
          place_new_world_army(i, x, y);
          break;
        }
        else if (num_type(i, "Citizen") == 0) {
          building = find_unit(i, "");
          x = object_position_x(i, building);
          y = object_position_y(i, building);
          if (!map_is_land(x,y)) {
            force_transport_ability(i);
          }
          create_unit_upgrade(i, x, y, "Citizen", 5);
          break;
        }
      }
    }
  }


}

void conquest place_new_world_army(int who, int x, int y)
{

  String nation_name = find_nation(who);

  int diff = get_difficulty();

  if (get_ctw_campaign() != "The New World") {
    create_unit_upgrade(who, x, y, "Slingers", 1);
    create_unit_in_group(who, x, y, "Bowmen", 1);
    if (diff > 1) {
      create_unit_in_group(who, x, y, "Slingers", 1);
      create_unit_in_group(who, x, y, "Bowmen", 1);
      create_unit_in_group(who, x, y, "Hoplites", 1);
      create_unit_in_group(who, x, y, "Light Horse", 1);
      create_unit_in_group(who, x, y, "Supply Wagon", 1);
    }
    if (diff > 2) {
      create_unit_in_group(who, x, y, "Slingers", 1);
      create_unit_in_group(who, x, y, "Bowmen", 1);
      create_unit_in_group(who, x, y, "Horse Archers", 1);
    }
    if (diff > 3) {
      create_unit_in_group(who, x, y, "Hoplites", 1);
    }
  }
  else {
    if (get_age() == 4 && nation_name == "Americans") {
      create_unit_upgrade(who, x, y, "Continental Marines", 1);
    }
    else {
      create_unit_upgrade(who, x, y, "Slingers", 1);
    }    
    if (nation_name == "Nubians" && get_age() == 3) {
      unit = create_unit(who, x, y, "Crossbowmen", 1);
      add_to_group(who, unit);
    }
    else {
      create_unit_in_group(who, x, y, "Bowmen", 1);   
    }
    if (diff > 1) {
      if (get_age() == 4 && nation_name == "Americans") {
        create_unit_upgrade(who, x, y, "Continental Marines", 1);
      }
      else {
        create_unit_upgrade(who, x, y, "Slingers", 1);
      }  
      if (nation_name == "Nubians" && get_age() == 3) {
        unit = create_unit(who, x, y, "Crossbowmen", 1);
        add_to_group(who, unit);
      }
      else {
        create_unit_in_group(who, x, y, "Bowmen", 1);   
      }
      if (nation_name == "Nubians") {
        create_unit_in_group(who, x, y, "Bandeirantes", 1);
      }
      else {
        create_unit_in_group(who, x, y, "Pikemen", 1);
      }
      if (nation_name == "Nubians") {
        if (get_age() == 3) {
          unit = create_unit(who, x, y, "Dragoon", 3);
          add_to_group(who, unit);
        }
        else {
          unit = create_unit(who, x, y, "Carabineer", 3);
          add_to_group(who, unit);
        }
      }      
      create_unit_in_group(who, x, y, "Light Horse", 1);
      if (nation_name == "British" || nation_name == "Dutch" || nation_name == "French" || nation_name == "Spanish" || nation_name == "Americans") {
        create_unit_in_group(who, x, y, "Knight", 1);
        if (nation_name == "Spanish") {
          create_unit_in_group(who, x, y, "Conquistador", 1);
        }
        else {
          create_unit_in_group(who, x, y, "Horse Archer", 1);
        }
      }
      else {
        create_unit_in_group(who, x, y, "Supply Wagon", 1);
      }
    }
    if (diff > 2) {
      if (get_age() == 4 && nation_name == "Americans") {
        create_unit_upgrade(who, x, y, "Continental Marines", 1);
      }
      else {
        create_unit_upgrade(who, x, y, "Slingers", 1);
      } 
      if (nation_name == "Nubians" && get_age() == 3) {
        unit = create_unit(who, x, y, "Crossbowmen", 1);
        add_to_group(who, unit);
      }
      else {
        create_unit_in_group(who, x, y, "Bowmen", 1);   
      }
      //create_unit_in_group(who, x, y, "Horse Archers", 1);
    }
    if (diff > 3) {
      if (nation_name == "Nubians") {
        create_unit_in_group(who, x, y, "Bandeirantes", 1);
      }
      else {
        create_unit_in_group(who, x, y, "Pikemen", 1);
      }
    }
  }

  create_unit_in_group(who, x, y, "Explorer", 1);
  create_unit_in_group(who, x, y, "General", 1);
  if (num_cities(who) == 0) {
    create_unit_in_group(who, x, y, "Citizen", 5);
  }
  //create_unit_in_group(who, x, y, "Bark", 2);

  if (get_age() == 3) {

  }
  else {

  }

}

String[] conquest tactics_deletion_list(String list_name) 
{


  int diff = get_difficulty();
  String list_array[];

  if (list_name == "Building") {
    switch(diff) {
      case 1:
        list_array = ["Tower", "Tower", "Tower", "Fort", "Fort", "Barracks", "Barracks", "Stable", "Stable", "Temple"];
        break;   
      case 2 :
        list_array = ["Tower", "Tower", "Tower", "Fort", "Fort", "Barracks", "Barracks", "Stable", "Stable", "Temple"];
        break;
      case 3 :
        list_array = ["Tower", "Tower", "Fort", "Fort", "Barracks", "Barracks", "Stable", "Stable", "Temple"];
        break;
      case 4 :
        list_array = ["Tower", "Tower", "Fort", "Barracks", "Barracks", "Stable"];
        break;
      case 5 :
        list_array = ["Tower", "Fort", "Barracks"];
        break;
      case 6 :
        break;
    }
  }
  else if (list_name == "Unit") {
    switch(diff) {
      case 1:
        list_array = ["Horse Archer", "Horse Archer", "Phalanx", "Phalanx", "Light Horse", "Archers", "Javelineers"];
        break;   
      case 2 :
        list_array = ["Horse Archer", "Horse Archer", "Phalanx", "Phalanx", "Light Horse"];
        break;
      case 3 :
        list_array = ["Horse Archer", "Horse Archer", "Phalanx", "Light Horse"];
        break;
      case 4 :
        list_array = ["Horse Archer", "Phalanx", "Light Horse"];
        break;
      case 5 :
        list_array = ["Horse Archer", "Phalanx"];
        break;
      case 6 :
        break;
    }  
  }
  
  return list_array;

}

void conquest infrastructure_setup(int who, String city1, String city2, String city3)
{

  missing_allies();

  int x;
  int y;
  int building;
  String city_name;
  int diff = get_difficulty();
  
  //silos
  for (i = 2; i < 9; i++) {
    for (m = 0; m < num_type_upgrade(i, "Missile Silo"); m++) {
      building = find_build(i, "Missile Silo");
      destroy_building(i, building);
    }
    for (m = 0; m < num_type_upgrade(i, "Airbase"); m++) {
      building = find_build(i, "Airbase");
      destroy_building(i, building);
    }    
  }  
  
  //add anti-air
  if (get_age() > 4) {
    city_name = find_capital(1);
    if (diff < 5) {
      place_building_upgrade(1, "Lookout", city_name);
    }
    if (diff < 3) {
      place_building_upgrade(1, "Lookout", city_name);
    } 
  }   

  String country = get_attack_to();
  int strength = get_territory_strength(country) + 1;
  String campaign = get_ctw_campaign();
  int easiest = 1;
  int easy = 2;
  int moderate = 3;
  int tough = 4;
  int tougher = 5;
  int toughest = 6;
  String destroy1[];
  String destroy2[];
  String destroy3[];
  String capital = find_capital(who);
  int unit;
  int num_builds;
  int destroy_cities = 1;
  if (who == 0) {
    who = 2;
    destroy_cities = 0;
  }
  if (campaign == "Alexander the Great") {
    if (get_attack_to() == "Persia") {
      destroy_cities = 0;
    }
  }
  else if (campaign == "The Cold War") {
    if (get_attack_to() == "Egypt") {
      if (who == 3) {
        destroy_cities = 0;
      }
    }
  }

  for (i = 3; i < num_players(); i++) {
    if (num_buildings(i) == 0 && (have_alliance(i,1) || have_alliance(i,2))) {
      unit = find_unit(i, "");
      x = object_position_x(i, unit);
      y = object_position_y(i, unit) + 2;
      if (num_type(i, "Citizen") == 0) {
        create_unit(i, x, y, "Citizen", 5);
      }
    }
  }

  String building_names[] = ["Library", "Courtyard Fountain", "Smelter", "Refinery", "Mine", "Oil Well", "Dock", "Woodcutter's Camp", "Farm", "Granary", "Lumber Mill", "University", "Market", "Temple", "Barracks", "Stable", "Siege Factory", "Airbase", "tower", "Fort", "Lookout"];
  String house_names[];
  if (campaign == "Napoleon") {
    house_names = ["House1", "House2", "House3", "House4", "House5", "House6", "House E", "House E1", "House E2", "House E3", "House E4", "House E5", "House F", "House F1", "House F2", "House F3", "House F4", "House F5"];
  }
  else if (campaign == "The New World") {
    house_names = ["House D" "House D1", "House D2", "House D3", "House D4", "House D5", "House1", "House2", "House3", "House4", "House5", "House6", "House E", "House E1", "House E2", "House E3", "House E4", "House E5"];
  }
  else if (campaign == "Alexander the Great") {
    house_names = ["HouseB", "HouseB1", "HouseB2", "HouseB3", "HouseB4", "HouseB5", "HouseC", "HouseC1", "HouseC2", "HouseC3", "HouseC4", "HouseC5"];
  }
  else if (campaign == "The Cold War") {
    house_names = ["Apt House A", "Apt House A1", "Apt House A2", "Apt House A3", "Apt House B", "Apt House B1", "Apt House B2", "Apt House B3", "Apt House C", "Apt House C1", "Apt House C2", "Apt House C3", "Apt House D", "Apt House D1", "Apt House D2", "Apt House D3", "Apt House E", "Apt House E1", "Apt House E2", "Apt House E3", "Office A", "Office A1", "Office A2", "Office A3", "Office B", "Office B1", "Office B2", "Office B3", "Office C", "Office C1", "Office C2", "Office C3"];
  }

  destroy1 = build_deletion_list(1);
  destroy2 = build_deletion_list(2);
  destroy3 = build_deletion_list(3);

  for (i = 0; i < destroy1.length; i++) {
    num_builds = num_type_upgrade(who, destroy1[i]);
    building = find_build_at_city(who, city1, destroy1[i], 1);
    destroy_building(who, building);
    if (num_builds == num_type_upgrade(who, destroy1[i])) {
      building = find_build(who, destroy1[i]);
      destroy_building(who, building);
    }
  }
  for (i = 0; i < destroy2.length; i++) {
    if (destroy2[i] == "City" && city2 != capital) {
      while (find_city_id(city2) > 0) {
        for (z = 0; z < building_names.length; z++) {
          for (h = 0; h < num_city_buildings(who, city2, building_names[z], 1); h++) {
            if (destroy_cities == 0 && (building_names[z] == "Woodcutter's Camp" || building_names[z] == "Farm"));
            else {
              building = find_build_at_city(who, city2, building_names[z], 1);
              destroy_building(who, building);
            }
          }
        }
        if (destroy_cities == 1) {
          for (z = 0; z < house_names.length; z++) {
            for (h = 0; h < num_city_buildings_using_type_name(who, city2, house_names[z], 1); h++) {
              building = find_build_at_city_using_type_name(who, city2, house_names[z], 1);
              destroy_building(who, building);
            }
          }
        }
        building = find_city_id(city2);
        x = object_position_x(who, building);
        y = object_position_y(who, building);
        for (c = 0; c < num_units(who); c++) {
          unit = find_unit(who, "");
          if (object_near(who, unit, x, y, 35)) {
            kill_unit_anim(who, unit, 1);
          }
        }
        if (destroy_cities == 1) {
          destroy_building(who, building); 
        }
        else {
          break;
        }
      }
    } 
    else {
      num_builds = num_type_upgrade(who, destroy2[i]);
      building = find_build_at_city(who, city2, destroy2[i], 1);
      destroy_building(who, building);
      if (num_builds == num_type_upgrade(who, destroy2[i])) {
        building = find_build(who, destroy2[i]);
        destroy_building(who, building);
      }
    }
  }
  for (i = 0; i < destroy3.length; i++) {
    if (destroy3[i] == "City" && city3 != capital) {
      while (find_city_id(city3) > 0) {
        for (z = 0; z < building_names.length; z++) {
          for (h = 0; h < num_city_buildings(who, city3, building_names[z], 1); h++) {
            if (destroy_cities == 0 && (building_names[z] == "Woodcutter's Camp" || building_names[z] == "Farm"));
            else {          
              building = find_build_at_city(who, city3, building_names[z], 1);
              destroy_building(who, building);
            }
          }
        }
        if (destroy_cities == 1) {
          for (z = 0; z < house_names.length; z++) {
            for (h = 0; h < num_city_buildings_using_type_name(who, city2, house_names[z], 1); h++) {
              building = find_build_at_city_using_type_name(who, city2, house_names[z], 1);
              destroy_building(who, building);
            }
          }      
        }  
        building = find_city_id(city3);
        x = object_position_x(who, building);
        y = object_position_y(who, building);
        for (c = 0; c < num_units(who); c++) {
          unit = find_unit(who, "");
          if (object_near(who, unit, x, y, 30)) {
            kill_unit_anim(who, unit, 1);
          }
        }
        if (destroy_cities == 1) {
          destroy_building(who, building); 
        }
        else {
          break;
        }
      }  
    } 
    else {
      num_builds = num_type_upgrade(who, destroy3[i]);
      building = find_build_at_city(who, city3, destroy3[i], 1);
      destroy_building(who, building);
      if (num_builds == num_type_upgrade(who, destroy3[i])) {
        building = find_build(who, destroy3[i]);
        destroy_building(who, building);
      }
    }
  }

}

String[] conquest build_deletion_list(int city_num)
{

  String destroy[];
  int easiest = 1;
  int easy = 2;
  int moderate = 3;
  int tough = 4;
  int tougher = 5;
  int toughest = 6;
  int diff = get_difficulty();
  String country = get_attack_to();
  int strength = get_territory_strength(country) + 1;

  if (diff == toughest) {
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }
  else if (diff == tougher) {
    if (strength ==8) {
      if (city_num == 1) {
        destroy = ["Stable", "Refinery"];
      }
      else if (city_num == 2) {
        destyroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Smelter"];
      }
      else if (city_num == 3) {
        destroy = ["Stable", "Fort", "Granary", "Lumber Mill"];
      }
    }    
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Tower", "Missile Silo"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Tower", "Siege Factory"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Barracks", "Stable", "University"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Tower", "Dock", "Oil Well"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Barracks", "Siege Factory", "Airbase"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Tower", "Market"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Barracks", "Fort"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Barracks", "Dock", "University"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Barracks", "Barracks"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine", "Lookout", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }
    else if (diff == tough) {
    if (strength ==8) {
      if (city_num == 1) {
        destroy = ["Stable", "Refinery", "Barracks", "Siege Factory", "Missile Silo", "Fort", "Lumber Mill", "Smelter"];
      }
      else if (city_num == 2) {
        destyroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Smelter", "Siege Factory", "Dock", "Fort", "Granary", "Refinery"];
      }
      else if (city_num == 3) {
        destroy = ["Stable", "Fort", "Granary", "Lumber Mill", "Lookout", "Tower", "Barracks", "University"];
      }
    }    
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Tower", "Missile Silo", "Barracks", "Siege Factory", "Fort", "Oil Well", "Granary", "Lumber Mill"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Tower", "Siege Factory", "Stable", "Dock", "Fort", "Oil Well", "Oil Well", "Granary"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Barracks", "Stable", "University", "Lookout", "Tower", "Temple", "City"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Tower", "Barracks", "Siege Factory", "Airbase", "Oil Well", "University", "Granary"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Tower", "Dock", "Oil Well", "Stable", "Fort", "Mine"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Barracks", "Siege Factory", "Airbase", "Tower", "Oil Well", "University"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Tower", "Market"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Barracks", "Fort", "Tower", "Stable", "Dock", "University"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Barracks", "Dock", "University", "Tower", "Mine", "Market"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Barracks", "Barracks", "Tower", "Mine"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine", "Lookout", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }
  else if (diff == moderate) {
    if (strength ==8) {
      if (city_num == 1) {
        destroy = ["Stable", "Refinery", "Barracks", "Siege Factory", "Missile Silo", "Fort", "Lumber Mill", "Smelter", "Tower", "Airbase", "Farm", "Farm", "Oil Well", "Oil Well", "Granary"];
      }
      else if (city_num == 2) {
        destyroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Smelter", "Siege Factory", "Dock", "Fort", "Granary", "Refinery", "Tower", "Oil Well", "Lumber Mill"];
      }
      else if (city_num == 3) {
        destroy = ["Stable", "Fort", "Granary", "Lumber Mill", "Lookout", "Tower", "Barracks", "University", "Lookout", "Lookout", "Tower", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "City"];
      }
    }    
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Tower", "Missile Silo", "Barracks", "Siege Factory", "Fort", "Oil Well", "Granary", "Lumber Mill","Stable", "Airbase", "Oil Well"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Tower", "Siege Factory", "Stable", "Dock", "Fort", "Oil Well", "Oil Well", "Granary", "Barracks", "Mine"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Barracks", "Stable", "University", "Lookout", "Tower", "Temple", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Tower", "Barracks", "Siege Factory", "Airbase", "Oil Well", "University", "Granary", "Stable", "Fort"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Tower", "Dock", "Oil Well", "Stable", "Fort", "Mine", "Lookout", "Barracks", "Temple", "University"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Barracks", "Siege Factory", "Airbase", "Tower", "Oil Well", "University", "Stable", "Dock", "Mine"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Tower", "Market", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Barracks", "Fort", "Tower", "Stable", "Dock", "University", "Mine", "Market"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Barracks", "Dock", "University", "Tower", "Mine", "Market", "Barracks"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Barracks", "Barracks", "Tower", "Mine", "Lookout", "Tower", "Temple"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine", "Lookout", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }
  else if (diff == easy) {
    if (strength ==8) {
      if (city_num == 1) {
        destroy = ["Stable", "Refinery", "Barracks", "Siege Factory", "Missile Silo", "Fort", "Lumber Mill", "Smelter", "Tower", "Airbase", "Farm", "Farm", "Oil Well", "Oil Well", "Granary", "Barracks", "Stable", "Dock", "Fort"];
      }
      else if (city_num == 2) {
        destyroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Smelter", "Siege Factory", "Dock", "Fort", "Granary", "Refinery", "Tower", "Oil Well", "Lumber Mill", "Lookout", "Lookout", "Tower", "Barracks", "Stable", "Temple", "Mine", "Univeristy"];
      }
      else if (city_num == 3) {
        destroy = ["Stable", "Fort", "Granary", "Lumber Mill", "Lookout", "Tower", "Barracks", "University", "Lookout", "Lookout", "Tower", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "City"];
      }
    }    
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Tower", "Missile Silo", "Barracks", "Siege Factory", "Fort", "Oil Well", "Granary", "Lumber Mill","Stable", "Airbase", "Oil Well", "Barracks", "Dock", "Fort"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Tower", "Siege Factory", "Stable", "Dock", "Fort", "Oil Well", "Oil Well", "Granary", "Barracks", "Mine", "Lookout", "Tower", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Barracks", "Stable", "University", "Lookout", "Tower", "Temple", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Tower", "Barracks", "Siege Factory", "Airbase", "Oil Well", "University", "Granary", "Stable", "Fort", "Barracks", "Dock"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Tower", "Dock", "Oil Well", "Stable", "Fort", "Mine", "Lookout", "Barracks", "Temple", "University", "Lookout", "Tower", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Barracks", "Siege Factory", "Airbase", "Tower", "Oil Well","University", "Stable", "Dock", "Mine", "Barracks", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Tower", "Market", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Barracks", "Fort", "Tower", "Stable", "Dock", "University", "Mine", "Market", "Tower", "Barracks"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Barracks", "Dock", "University", "Tower", "Mine", "Market", "Barracks", "Tower", "Temple"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Barracks", "Barracks", "Tower", "Mine", "Lookout", "Tower", "Temple"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine", "Lookout", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }
   else if (diff == easiest) {
    if (strength ==8) {
      if (city_num == 1) {
        destroy = ["Stable", "Refinery", "Barracks", "Siege Factory", "Missile Silo", "Fort", "Lumber Mill", "Smelter", "Tower", "Airbase", "Farm", "Farm", "Oil Well", "Oil Well", "Granary", "Barracks", "Stable", "Dock", "Fort"];
      }
      else if (city_num == 2) {
        destyroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Smelter", "Siege Factory", "Dock", "Fort", "Granary", "Refinery", "Tower", "Oil Well", "Lumber Mill", "Lookout", "Lookout", "Tower", "Barracks", "Stable", "Temple", "Mine", "Univeristy", "Market"];
      }
      else if (city_num == 3) {
        destroy = ["Stable", "Fort", "Granary", "Lumber Mill", "Lookout", "Tower", "Barracks", "University", "Lookout", "Lookout", "Tower", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "City"];
      }
    }    
    if (strength == 7) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Tower", "Missile Silo", "Barracks", "Siege Factory", "Fort", "Oil Well", "Granary", "Lumber Mill","Stable", "Airbase", "Oil Well", "Barracks", "Dock", "Fort", "University"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Tower", "Siege Factory", "Stable", "Dock", "Fort", "Oil Well", "Oil Well", "Granary", "Barracks", "Mine", "Lookout", "Tower", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Barracks", "Stable", "University", "Lookout", "Tower", "Temple", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
    }
    else if (strength == 6) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Tower", "Barracks", "Siege Factory", "Airbase", "Oil Well", "University", "Granary", "Stable", "Fort", "Barracks", "Dock", "Mine"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Tower", "Dock", "Oil Well", "Stable", "Fort", "Mine", "Lookout", "Barracks", "Temple", "University", "Lookout", "Tower", "Farm", "Farm", "Woodcutter's Camp", "Market", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }      
    else if (strength == 5) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Barracks", "Siege Factory", "Airbase", "Tower", "Oil Well", "University", "Stable", "Dock", "Mine", "Barracks", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Tower", "Market", "Lookout", "Tower", "Farm", "Farm", "Farm", "Woodcutter's Camp", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    }        
    else if (strength == 4) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Barracks", "Fort", "Tower", "Stable", "Dock", "University", "Mine", "Market", "Tower", "Barracks"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 3) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Barracks", "Dock", "University", "Tower", "Mine", "Market", "Barracks", "Tower", "Temple"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
    else if (strength == 2) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Barracks", "Barracks", "Tower", "Mine", "Lookout", "Tower", "Temple"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 
     else if (strength == 1) {
      if (city_num == 1) {
        destroy = ["Lookout", "Stable", "Farm", "Farm", "Smelter", "Refinery", "Missile Silo", "Oil Well", "Lumber Mill", "Lookout", "Fort", "Granary", "Siege Factory", "Airbase", "Oil Well", "Lookout", "Stable", "Fort", "Dock", "Market", "University", "Tower", "Barracks", "Barracks", "Temple", "Mine", "Lookout", "Tower"];
      }
      else if (city_num == 2) {
        destroy = ["Lookout", "Barracks", "Airbase", "Missile Silo", "Farm", "Oil Well", "Lumber Mill", "Smelter", "Refinery", "Lookout", "Siege Factory", "Granary", "Stable", "Dock", "Fort", "University", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
      else if (city_num == 3) {
        destroy = ["Lookout", "Fort", "Granary", "Lumber Mill", "Lookout", "Lookout", "Tower", "Tower", "Barracks", "Stable", "Temple", "Farm", "Farm", "Farm", "Woodcutter's Camp", "Mine", "Market", "University", "City"];
      }
    } 

  }

  return destroy;

}

void conquest alexander_setup() {

  for (i = 2; i < 9; i++) {
    enable_production_ai(i);
    enable_combat_ai(i);
    enable_all_unit_ai(i);
  }

  String type_list[] = ["Cataphract", "Companion", "Chevalier", "Horse Archer", "Chariot", "Camel Archer", "Nomad", "War Chariot"];
  
  for (i = 0; i < type_list.length; i++) {
    set_preq(type_list[i], "Classical Age", "Conscription");
  }

  enable_type("Supply Wagon");
  for (i = 1; i < 9; i++) {
    if (!have_tech(i, "Supply Wagon")) {
      gain_upgrade(i, "Supply Wagon");
    }
  }

  if (get_ctw_int("greek_mercs") == 1) {
    enable_type_by_tribe("Greek Mercenaries", "Greeks", "Barracks", 0, 3);
    gain_upgrade(1, "Greek Mercenaries");
  }

  gain_upgrade(1, "War Elephant");

  if (find_nation(2) == "Persian") {
    disable_type_by_tribe("Horse Archer", "Persian");
    enable_type_by_tribe("War Chariot", "Persian", "Stable", 0, 2);
    gain_upgrade(2, "War Chariot");
  }
}

void conquest new_world_rules() {

  if (get_turn() < 9) {
    for (i = 0; i < num_players(); i++) {
      native_unit_upgrader(i);
      if (find_nation(i+1) == "British") {
        if (get_ctw_int("Britain") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "Dutch") {
        if (get_ctw_int("Holland") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "Spanish") {
        if (get_ctw_int("Spain") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "French") {
        if (get_ctw_int("France") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "Americans") {
        if (get_ctw_int("Atlantic") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "Nubians") {
        if (get_ctw_int("Port") < 6) {
          euro_pop_limit(i+1);
        }
      }
      else if (find_nation(i+1) == "Inca") {
        if (get_ctw_int("Peru") < 6) {
          native_unit_limiter(i+1);
        }
      }
      else if (find_nation(i+1) == "Maya") {
        if (get_ctw_int("Yucatan") < 6) {
          native_unit_limiter(i+1);
        }
      }
      else if (find_nation(i+1) == "Aztecs") {
        if (get_ctw_int("Mexico") < 6) {
          native_unit_limiter(i+1);
        }
      }
      else if (find_nation(i+1) == "Lakota") {
        if (get_ctw_int("Dakota") < 6) {
          native_unit_limiter(i+1);
        }
      }
      else if (find_nation(i+1) == "Iroquois") {
        if (get_ctw_int("Lakes") < 6) {
          native_unit_limiter(i+1);
        }
      }
    }
  }
}

void conquest new_world_setup() {

  //upgrade classical units
  upgrade_unit_stats("Catapult", 230, 92, 21, 16, 12, 0);
  upgrade_unit_stats("Fire Raft", 620, 140, 40, 1, 8, 1);
  upgrade_unit_stats("Militia", 190, 65, 24, 0, 8, 2);

  if (get_age() == 4) {
    for (i = 1; i < 9; i++) {
      //nation_name = find_nation(i);
      gain_upgrade(i, "Musketeers");
      gain_upgrade(i, "Fusiliers");
      gain_upgrade(i, "Cannon");
      gain_upgrade(i, "Hussar");
      gain_upgrade(i, "Cuirassier");
      gain_upgrade(i, "Carabineer");
      gain_upgrade(i, "Sloop");
      gain_upgrade(i, "Heavy Fireship");
      gain_upgrade(i, "Man o' War");
      gain_upgrade(i, "Bomb Ketch");
    }
  }

  for (i = 2; i < 9; i++) {
    enable_production_ai(i);
    enable_combat_ai(i);
    enable_all_unit_ai(i);
  }

  String nation_name;

  String mil_units_5[] = ["Musketeers", "Fusiliers", "Hussar", "Cuirassier", "Carabineer", "Cannon"];
  String naval_units_5[] = ["Sloop", "Man o' War", "Bomb Ketch", "Heavy Fireship"];


  if (get_age() == 3) {
    disable_type_by_tribe("Knight", "Lakota");
    disable_type_by_tribe("Knight", "Iroquois");
    disable_type_by_tribe("Knight", "Inca");
    disable_type_by_tribe("Knight", "Maya");
    disable_type_by_tribe("Knight", "Aztecs");
    disable_type_by_tribe("Cataphract", "Iroquois");
    disable_type_by_tribe("Cataphract", "Inca");
    disable_type_by_tribe("Cataphract", "Maya");
    disable_type_by_tribe("Cataphract", "Aztecs");
    disable_type_by_tribe("Cataphract", "Lakota");
    disable_type_by_tribe("Dragoon", "Spanish");
    enable_type_by_tribe("Conquistador", "Spanish", "Stable", 0, 2);
    disable_type_by_tribe("Carabineer", "Spanish");
    enable_type_by_tribe("Elite Conquistador", "Spanish");
    enable_type_by_tribe("Bombard", "Nubians");
    disable_type_by_tribe("Apedemak Archers", "Nubians");
    disable_type_by_tribe("Royal Kushite Archers", "Nubians");
    disable_type_by_tribe("Kushite Archers", "Nubians");
    enable_type_by_tribe("Crossbowmen", "Nubians");
    enable_type_by_tribe("Arquebusiers", "Nubians");
    disable_type_by_tribe("Camel Raider", "Nubians");
    enable_type_by_tribe("Dragoon", "Nubians");
    disable_type_by_tribe("Camel Corps", "Nubians");
    enable_type_by_tribe("Elite Light Cavalry", "Nubians");
    disable_type_by_tribe("Elite Pikemen", "Nubians");
    enable_type_by_tribe("Bandeirantes", "Nubians", "Barracks", 0, 1);
    disable_type_by_tribe("Fusiliers", "Nubians");
    enable_type_by_tribe("Elite Bandeirantes", "Nubians", "Barracks", 0, 1);
    enable_type_by_tribe("Arquebusiers", "British", "Barracks", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "British", "Barracks", 0, 1);
    enable_type_by_tribe("Explorer", "British", "Barracks", 0, 4);
    enable_type_by_tribe("Elite Light Cavalry", "British", "Stable", 0, 0);
    enable_type_by_tribe("Dragoon", "British", "Stable", 0, 2);
    enable_type_by_tribe("Bombard", "British", "Siege Factory", 0, 0);
    enable_type_by_tribe("Arquebusiers", "Spanish", "Barracks", 0, 0);
    enable_type_by_tribe("Crossbowmen", "Spanish", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "Spanish", "Stable", 0, 0);
    enable_type_by_tribe("Bombard", "Spanish", "Siege Factory", 0, 0);
    enable_type_by_tribe("Arquebusiers", "French", "Barracks", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "French", "Barracks", 0, 1);
    enable_type_by_tribe("Horse Grenadier", "French", "stable", 0, 1);
    enable_type_by_tribe("Crossbowmen", "French", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "French", "Stable", 0, 0);
    enable_type_by_tribe("Dragoon", "French", "Stable", 0, 2);
    enable_type_by_tribe("Bombard", "French", "Siege Factory", 0, 0);
    enable_type_by_tribe("Arquebusiers", "Americans", "Barracks", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "Americans", "Barracks", 0, 1);
    enable_type_by_tribe("Crossbowmen", "Americans", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "Americans", "Stable", 0, 0);
    enable_type_by_tribe("Dragoon", "Americans", "Stable", 0, 2);
    enable_type_by_tribe("Bombard", "Americans", "Siege Factory", 0, 0);
    enable_type_by_tribe("Elite Light Cavalry", "Aztecs", "Stable", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "Aztecs", "Barracks", 0, 1);
    enable_type_by_tribe("Heavy Archers", "Aztecs", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "Iroquois", "Stable", 0, 0);
    enable_type_by_tribe("Elite Mohawk Spearmen", "Iroquois", "Barracks", 0, 1);
    enable_type_by_tribe("Heavy Archers", "Iroquois", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "Lakota", "Stable", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "Lakota", "Barracks", 0, 1);
    enable_type_by_tribe("Heavy Archers", "Lakota", "Barracks", 0, 2);
    enable_type_by_tribe("Elite Light Cavalry", "Maya", "Stable", 0, 0);
    enable_type_by_tribe("Elite Pikemen", "Maya", "Barracks", 0, 1);
    enable_type_by_tribe("Heavy Archers", "Maya", "Barracks", 0, 2);
    disable_type_by_tribe("Camel Corps", "Nubians");
    enable_type_by_tribe("Carabineer", "Nubians");
//   if (nation_name == "Lakota") {
      disable_type_by_tribe("Repeating Rifle Horse", nation_name);
      disable_type_by_tribe("Musket Horse", nation_name);
      enable_type_by_tribe("Eagle Feather Horse", nation_name, "Stable", 0, 2);
  }
  else {
    disable_type_by_tribe("Carabineer", "Spanish");
    enable_type_by_tribe("Elite Conquistador", "Spanish", "Stable", 0, 2);
    enable_type_by_tribe("Cannon", "Nubians");
    enable_type_by_tribe("Musketeers", "Nubians");
    enable_type_by_tribe("Hussar", "Nubians");
    disable_type_by_tribe("Fusiliers", "Nubians");
    disable_type_by_tribe("Elite Pikemen", "Nubians");
    enable_type_by_tribe("Elite Bandeirantes", "Nubians", "Barracks", 0, 1);
    enable_type_by_tribe("Musketeers", "British", "Barracks", 0, 0);
    enable_type_by_tribe("Fusiliers", "British", "Barracks", 0, 1);
    enable_type_by_tribe("Explorer", "British", "Barracks", 0, 4);
    enable_type_by_tribe("Hussar", "British", "Stable", 0, 0);
    enable_type_by_tribe("Dragoon", "British", "Stable", 0, 2);
    enable_type_by_tribe("Cannon", "British", "Siege Factory", 0, 0);
    enable_type_by_tribe("Musketeers", "Spanish", "Barracks", 0, 0);
    enable_type_by_tribe("Hussar", "Spanish", "Stable", 0, 0);
    enable_type_by_tribe("Cannon", "Spanish", "Siege Factory", 0, 0);
    enable_type_by_tribe("Musketeers", "French", "Barracks", 0, 0);
    enable_type_by_tribe("Fusiliers", "French", "Barracks", 0, 1);
    enable_type_by_tribe("Horse Guard Grenadier", "French", "stable", 0, 1);
    enable_type_by_tribe("Hussar", "French", "Stable", 0, 0);
    enable_type_by_tribe("Carabineer", "French", "Stable", 0, 2);
    enable_type_by_tribe("Cannon", "French", "Siege Factory", 0, 0);
    enable_type_by_tribe("Musketeers", "Americans", "Barracks", 0, 0);
    enable_type_by_tribe("Fusiliers", "Americans", "Barracks", 0, 1);
    enable_type_by_tribe("Hussar", "Americans", "Stable", 0, 0);
    enable_type_by_tribe("Carabineer", "Americans", "Stable", 0, 2);
    enable_type_by_tribe("Cannon", "Americans", "Siege Factory", 0, 0);
    enable_type_by_tribe("Hussar", "Aztecs", "Stable", 0, 0);
    enable_type_by_tribe("Fusiliers", "Aztecs", "Barracks", 0, 1);
    enable_type_by_tribe("Hussar", "Iroquois", "Stable", 0, 0);
    enable_type_by_tribe("Fusiliers", "Iroquois", "Barracks", 0, 1);
    enable_type_by_tribe("Hussar", "Lakota", "Stable", 0, 0);
    enable_type_by_tribe("Hussar", "Maya", "Stable", 0, 0);
    enable_type_by_tribe("Fusiliers", "Maya", "Barracks", 0, 1);
    disable_type_by_tribe("Camel Corps", "Nubians");
    enable_type_by_tribe("Carabineer", "Nubians", "Stable", 0, 2);

  }

  //temp fixes
  for (a = 0; a < num_players(); a++) {
    if (get_age() == 4) {
      if (age(a+1) == 3) {
        gain_next_age(a+1);
      }
    }        
    nation_name = find_nation(a+1);
    if (nation_name == "Dutch") {
      if (!have_tech(a+1, "Armed Caravan")) gain_upgrade(a+1, "Armed Caravan");
      if (!have_tech(a+1, "Armed Merchant")) gain_upgrade(a+1, "Armed Merchant");
      if (!have_tech(a+1, "Armed Supply Wagon")) gain_upgrade(a+1, "Armed Supply Wagon");
    }
    else {
      if (!have_tech(a+1, "Caravan")) gain_upgrade(a+1, "Caravan");
      if (!have_tech(a+1, "Merchant")) gain_upgrade(a+1, "Merchant");
      if (!have_tech(a+1, "Supply Wagon")) gain_upgrade(a+1, "Supply Wagon");
    } 
    if (age(a+1) < 4) {
      if (nation_name == "French") {
          if (!have_tech(a+1, "Horse Grenadier")) gain_upgrade(a+1, "Horse Grenadier");
      }
      if (nation_name == "Americans" || nation_name == "French") {
        if (!have_tech(a+1, "Arquebusiers")) {
          gain_upgrade(a+1, "Arquebusiers");
        }
        if (!have_tech(a+1, "Elite Pikemen")) {
          gain_upgrade(a+1, "Elite Pikemen");
        }
        if (!have_tech(a+1, "Crossbowmen")) {
          gain_upgrade(a+1, "Crossbowmen");
        }
        if (!have_tech(a+1, "Elite Light Cavalry")) {
          gain_upgrade(a+1, "Elite Light Cavalry");
        }
        if (!have_tech(a+1, "Dragoon")) {
          gain_upgrade(a+1, "Dragoon");
        }
        if (!have_tech(a+1, "Bombard")) {
          gain_upgrade(a+1, "Bombard");
        }
      }
      if (nation_name == "Lakota") {
        if (!have_tech(a+1, "Eagle Feather Horse")) {
          gain_upgrade(a+1, "Eagle Feather Horse^");
        }
      }         
      if (nation_name == "Spanish") {
        if (!have_tech(a+1, "Arquebusiers")) {
          gain_upgrade(a+1, "Arquebusiers");
        }
        if (!have_tech(a+1, "Crossbowmen")) {
          gain_upgrade(a+1, "Crossbowmen");
        }
        if (!have_tech(a+1, "Elite Light Cavalry")) {
          gain_upgrade(a+1, "Elite Light Cavalry");
        }
        if (!have_tech(a+1, "Bombard")) {
          gain_upgrade(a+1, "Bombard");
        }
      }
      else if (nation_name == "British") {
        if (!have_tech(a+1, "Arquebusiers")) {
          gain_upgrade(a+1, "Arquebusiers");
        }
        if (!have_tech(a+1, "Elite Pikemen")) {
          gain_upgrade(a+1, "Elite Pikemen");
        }
        if (!have_tech(a+1, "Explorer")) {
          gain_upgrade(a+1, "Explorer");
        }
        if (!have_tech(a+1, "Elite Light Cavalry")) {
          gain_upgrade(a+1, "Elite Light Cavalry");
        }
        if (!have_tech(a+1, "Dragoon")) {
          gain_upgrade(a+1, "Dragoon");
        }
        if (!have_tech(a+1, "Bombard")) {
          gain_upgrade(a+1, "Bombard");
        }
      }
      else if (nation_name == "Aztecs" || nation_name == "Lakota" || nation_name == "Maya") {
        if (!have_tech(a+1, "Elite Pikemen")) {
          gain_upgrade(a+1, "Elite Pikemen");
        }
        if (!have_tech(a+1, "Elite Light Cavalry")) {
          gain_upgrade(a+1, "Elite Light Cavalry");
        }
        if (!have_tech(a+1, "Heavy Archers")) {
          gain_upgrade(a+1, "Heavy Archers");
        }
      }
      else if (nation_name == "Iroquois") {
        if (!have_tech(a+1, "Elite Mohawk Spearmen")) {
          gain_upgrade(a+1, "Elite Mohawk Spearmen");
        }
        if (!have_tech(a+1, "Elite Light Cavalry")) {
          gain_upgrade(a+1, "Elite Light Cavalry");
        }
        if (!have_tech(a+1, "Heavy Archers")) {
          gain_upgrade(a+1, "Heavy Archers");
        }
      }
      if (nation_name == "Nubians") {
        if (!have_tech(a+1, "Dragoon")) gain_upgrade(a+1, "Dragoon");
        if (!have_tech(a+1, "Crossbowmen")) gain_upgrade(a+1, "Crossbowmen");
        if (!have_tech(a+1, "Elite Light Cavalry")) gain_upgrade(a+1, "Elite Light Cavalry");
      }
      if (nation_name == "Lakota" || nation_name == "Iroquois" || nation_name == "Aztecs" || nation_name == "Inca" || nation_name == "Maya") {
        if (!have_tech(a+1, "Heavy Archers")) gain_upgrade(a+1, "Heavy Archers");
      }
      else {
        if (!have_tech(a+1, "Crossbowmen")) gain_upgrade(a+1, "Crossbowmen");
      }
      if (nation_name == "Dutch") {
        if (!have_tech(a+1, "Fluyt")) gain_upgrade(a+1, "Fluyt");
      } 
      else {
        if (!have_tech(a+1, "Corvette")) gain_upgrade(a+1, "Corvette");
      }
      if (nation_name == "Spanish") {
        if (!have_tech(a+1, "Tercios")) {
          gain_upgrade(a+1, "Tercios");
        }
        if (!have_tech(a+1, "Conquistador")) {
          gain_upgrade(a+1, "Conquistador");
        }
        if (!have_tech(a+1, "Galleon")) {
          gain_upgrade(a+1, "Galleon");
        }
      }
      if (nation_name == "Nubians") {
        if (!have_tech(a+1, "Bandeirantes")) {
          gain_upgrade(a+1, "Bandeirantes");
        }
      }
    }
    else if (age(a+1) == 4) {
      for (u = 0; u < naval_units_5.length; u++) {
        if (nation_name == "Dutch" && u == 0) {
          if (!have_tech(a+1, "Clipper")) gain_upgrade(a+1, "Clipper");
        }
        else {
          if (!have_tech(a+1, naval_units_5[u])) gain_upgrade(a+1, naval_units_5[u]);
        }
      }
      for (u = 0; u < mil_units_5.length; u++) {
        if (nation_name == "Americans" && u == 0) {
          if (!have_tech(a+1, "Continental Marines")) gain_upgrade(a+1, "Continental Marines");
        }
        else if (nation_name == "British" && u == 0) {
          if (!have_tech(a+1, "Highlanders")) {
            gain_upgrade(a+1, "Highlanders");
          }
          if (!have_tech(a+1, "Ship of the Line")) {
            gain_upgrade(a+1, "Ship of the Line");
          }
        }
        else if (nation_name == "French" && u == 3) {
          if (!have_tech(a+1, "Horse Guard Grenadier")) gain_upgrade(a+1, "Horse Guard Grenadier");
        }
        else if (nation_name == "Inca" && u == 5) {
          if (!have_tech(a+1, "Mortar")) gain_upgrade(a+1, "Mortar");
        }
        else if (nation_name == "Lakota" && u == 4) {
          if (!have_tech(a+1, "Repeating Rifle Horse")) gain_upgrade(a+1, "Repeating Rifle Horse");
        }
        else if (nation_name == "Nubians") {
          if (!have_tech(a+1, "Carabineer")) gain_upgrade(a+1, "Carabineer");
        }
        else if (nation_name == "Spanish" && u == 1) {
          if (!have_tech(a+1, "Royal Tercios")) {
            gain_upgrade(a+1, "Royal Tercios");
          }
          if (!have_tech(a+1, "Conquistador")) {
            gain_upgrade(a+1, "Conquistador");
          }
          if (!have_tech(a+1, "Elite Conquistador")) {
            gain_upgrade(a+1, "Elite Conquistador");
          }
        }
        else {
          if (!have_tech(a+1, mil_units_5[u])) gain_upgrade(a+1, mil_units_5[u]);
        }
      }   
      if (nation_name == "Iroquois") {
        if (!have_tech(a+1, "Pioneer")) gain_upgrade(a+1, "Pioneer");
      }
      if (nation_name == "Nubians") {
        if (!have_tech(a+1, "Elite Bandeirantes")) {
          gain_upgrade(a+1, "Elite Bandeirantes");
        }
        if (get_age() == 4) {
          gain_upgrade(a+1, "Carabineer");
        }
      }
      if (nation_name == "Americans" || nation_name == "French") {
        if (!have_tech(a+1, "Musketeers")) {
          gain_upgrade(a+1, "Musketeers");
        }
        if (!have_tech(a+1, "Fusiliers")) {
          gain_upgrade(a+1, "Fusiliers");
        }
        if (!have_tech(a+1, "Hussar")) {
          gain_upgrade(a+1, "Hussar");
        }
        if (!have_tech(a+1, "Carabineer")) {
          gain_upgrade(a+1, "Carabineer");
        }
        if (!have_tech(a+1, "Cannon")) {
          gain_upgrade(a+1, "Cannon");
        }
      }
      if (nation_name == "Spanish") {
        if (!have_tech(a+1, "Musketeers")) {
          gain_upgrade(a+1, "Musketeers");
        }
        if (!have_tech(a+1, "Hussar")) {
          gain_upgrade(a+1, "Hussar");
        }
        if (!have_tech(a+1, "Cannon")) {
          gain_upgrade(a+1, "Cannon");
        }
      }
      else if (nation_name == "British") {
        if (!have_tech(a+1, "Musketeers")) {
          gain_upgrade(a+1, "Musketeers");
        }
        if (!have_tech(a+1, "Fusiliers")) {
          gain_upgrade(a+1, "Fusiliers");
        }
        if (!have_tech(a+1, "Explorer")) {
          gain_upgrade(a+1, "Explorer");
        }
        if (!have_tech(a+1, "Hussar")) {
          gain_upgrade(a+1, "Hussar");
        }
        if (!have_tech(a+1, "Carabineer")) {
          gain_upgrade(a+1, "Carabineer");
        }
        if (!have_tech(a+1, "Cannon")) {
          gain_upgrade(a+1, "Cannon");
        }
      }
      else if (nation_name == "Aztecs" || nation_name == "Lakota" || nation_name == "Maya") {
        if (!have_tech(a+1, "Fusiliers")) {
          gain_upgrade(a+1, "Fusiliers");
        }
        if (!have_tech(a+1, "Hussar")) {
          gain_upgrade(a+1, "Hussar");
        }
      }
      else if (nation_name == "Iroquois") {
        if (!have_tech(a+1, "Fusiliers")) {
          gain_upgrade(a+1, "Fusiliers");
        }
        if (!have_tech(a+1, "Hussar")) {
          gain_upgrade(a+1, "Hussar");
        }
      }
    }
    enable_type_by_tribe("Elite Light Cavalry", "Nubians", "Stable", 0, 0);
    if (get_age() == 3) {
      enable_type_by_tribe("Arquebusiers", "Dutch");
      enable_type_by_tribe("Elite Pikemen", "Dutch");
      enable_type_by_tribe("Crossbowmen", "Dutch");
      enable_type_by_tribe("Elite Light Cavalry", "Dutch");
      enable_type_by_tribe("Dragoon", "Dutch");
      enable_type_by_tribe("Bombard", "Dutch");
      enable_type_by_tribe("Elite Light Cavalry", "Inca");
      enable_type_by_tribe("Elite Pikemen", "Inca");
      enable_type_by_tribe("Heavy Archers", "Inca");
      enable_type_by_tribe("King's Yeomanry", "British");
      
      for (b = 1; b < 9; b++) {
        if (find_nation(b) == "British") {
          gain_upgrade(b, "King's Yeomanry");
        }
      }
    }
    else {
      enable_type_by_tribe("Musketeers", "Dutch");
      enable_type_by_tribe("Fusiliers", "Dutch");
      enable_type_by_tribe("Hussar", "Dutch");
      enable_type_by_tribe("Carabineer", "Dutch");
      enable_type_by_tribe("Cannon", "Dutch");
      enable_type_by_tribe("Hussar", "Inca");
      enable_type_by_tribe("Fusiliers", "Inca");
    }
  }

  String capital;

  for (i = 1; i < 9; i++) {
    if (num_cities(i) > 0) {
      capital = find_capital(i);
      if (!find_build_at_city(i, capital, "Senate", 1)) {
        place_building_upgrade(i, "Senate", capital);
      }
    }
    //Aztecs, Inca, Maya, Portuguese, British, French, Spanish, Dutch
    if (find_nation(i) == "Aztecs" || find_nation(i) == "Inca" || find_nation(i) == "Maya") {
      gain_tech(i, "Despotism"); 
      gain_tech(i, "Monarchy");
    }
    else if (find_nation(i) == "Nubians" || find_nation(i) == "British" || find_nation(i) == "French" || find_nation(i) == "Spanish" || find_nation(i) == "Dutch") {
      gain_tech(i, "Despotism"); 
      gain_tech(i, "Monarchy");
    }
    //Americans, Iroquois, Lakota
    else {
      gain_tech(i, "Republic");
      gain_tech(i, "Democracy");
    }
  }

  disable_type_by_tribe("Musketeers", "Americans");
  enable_type_by_tribe("Continental Marines", "Americans", "Barracks", 0, 0);

  if (get_ctw_int("Iron") == 1) {
    disable_type_by_tribe("Sloop", "Americans");
    disable_type_by_tribe("Corvette", "Americans");
    enable_type_by_tribe("Ironclad", "Americans", "Dock", 0, 1);
    for (i = 1; i <= num_players(); i++) {
      if (find_nation(i) == "Americans") {
        if (!have_tech(i, "Ironclad")) {
          gain_upgrade(i, "Ironclad");
        }
        if (get_age() == 4) {
          if (!have_tech(i, "Continental Marines")) {
            gain_tech(i, "Continental Marines");
          }
        }
      }
    }
  }

}


void conquest euro_pop_limit(int who) {
  ///disable supply wagons
  if (population_cap(who) > 125) {
    set_population_cap(who, 125);
  }
  nation_name = find_nation(who);
  //disable_type_by_tribe("Supply Wagon", nation_name);
}

void conquest native_unit_upgrader(int who) {

  String nation_name = find_nation(who);

  if (age(who) == 4) {
    //attack, hit points, speed, range, los, armor, 
    if (nation_name == "Aztecs") {
      //xopilli atl-atls
      upgrade_unit_stats("Xopilli Atl-Atls", 180, 142, 24,10, 11, 2);
    }
    else if (nation_name == "Inca") {
      upgrade_unit_stats("Inti Macemen", 210, 140, 24, 0, 11, 3);
    }
    else if (nation_name == "Maya") {
      upgrade_unit_stats("Eagle Balamob Slingers", 180, 132, 24, 10, 11, 2);
    }
    else if (nation_name == "Iroqouis") {
      upgrade_unit_stats("Elite Mohawk Spearmen", 200, 200, 25, 0, 10, 4);
    }
    else if (nation_name == "Lakota") {
      upgrade_unit_stats("Eagle Feather Horse", 170, 97, 33, 9, 10, 1);
    }
  }

}

void conquest upgrade_unit_stats(String unit_name, int attack, int hp, int speed, int range, int los, int armor) {

  set_object_type_attack(unit_name, attack);
  set_object_type_max_health(unit_name, hp);
  set_unit_type_speed(unit_name, speed);
  set_object_type_max_range(unit_name, range);
  set_type_line_of_sight(unit_name, los);
  set_object_type_armor(unit_name, armor);
}

void conquest native_unit_limiter(int who) {

  //gain first tech levels
  /*gain_tech(who, "Tactics");
  gain_tech(who, "Religion");
  gain_tech(who, "Taxation");
  gain_tech(who, "Fortification");
  gain_tech(who, "Allegiance");
  gain_tech(who, "Construction");
  gain_tech(who, "Herbal Lore");
  gain_tech(who, "Forage");
  gain_tech(who, "Carpentry");
  gain_tech(who, "Agriculture");
  gain_tech(who, "Literacy");
  gain_tech(who, "Metal Alloys");*/

  nation_name = find_nation(who);
  ///get rid of heavy horse, aquebusiers, horse archers, siege, boats
  disable_type_by_tribe("Cuirassier", nation_name);
  disable_type_by_tribe("Heavy Knight", nation_name);

  disable_type_by_tribe("Fusiliers", nation_name);

  disable_type_by_tribe("Musketeers", nation_name);
  disable_type_by_tribe("Arquebusiers", nation_name);
  disable_type_by_tribe("Carabineer", nation_name);
  disable_type_by_tribe("Dragoon", nation_name);

  if (get_territory_owner(get_attack_to()) == "" && who != 1) {
    enable_type_by_tribe("Elite Javelineers", nation_name);
    enable_type_by_tribe("Heavy Horse Archer", nation_name);
  }
  else {
    if (nation_name == "Aztecs") {
      enable_type_by_tribe("Xopilli Atl-Atls", nation_name);
    }
    else if (nation_name == "Inca") {
      enable_type_by_tribe("Inti Macemen", nation_name);
    }
    else if (nation_name == "Maya") {
      enable_type_by_tribe("Eagle Balamob Slingers", nation_name);
    }
    else {
      enable_type_by_tribe("Elite Javelineers", nation_name);
    }

    if (nation_name == "Lakota") {
      disable_type_by_tribe("Repeating Rifle Horse", nation_name);
      disable_type_by_tribe("Musket Horse", nation_name);
      enable_type_by_tribe("Eagle Feather Horse", nation_name);
    }
    else {
      enable_type_by_tribe("Heavy Horse Archer", nation_name);
    }
  }

  disable_type_by_tribe("Cannon", nation_name);
  if (nation_name == "Inca") {
    disable_type_by_tribe("Mortar", nation_name);
  }
  disable_type_by_tribe("Bombard", nation_name);
  disable_type_by_tribe("Trebuchet", nation_name);
  enable_type_by_tribe("Catapult", nation_name);

  disable_type_by_tribe("Man o' War", nation_name);
  disable_type_by_tribe("Frigate", nation_name);
  disable_type_by_tribe("Carrack", nation_name);
  enable_type_by_tribe("Galley", nation_name);

  disable_type_by_tribe("Sloop", nation_name);
  disable_type_by_tribe("Corvette", nation_name);
  disable_type_by_tribe("Caravel", nation_name);
  enable_type_by_tribe("Dromon", nation_name);

  disable_type_by_tribe("Heavy Fireship", nation_name);
  disable_type_by_tribe("Fireship", nation_name);
  disable_type_by_tribe("Heavy Fire Raft", nation_name);
  enable_type_by_tribe("Fire Raft", nation_name);

  disable_type_by_tribe("Bomb Ketch", nation_name);
  disable_type_by_tribe("Bomb Vessel", nation_name);

  disable_type_by_tribe("Minuteman", nation_name);

  disable_type_by_tribe("Crossbowmen", nation_name);
  enable_type_by_tribe("Heavy Archers", nation_name);

  set_age_diff_penalty(1, 4);
  set_age_diff_penalty(2, 6);

}

void conquest new_world_rule_check()
{
  if (find_nation(1) == "Aztecs") {
    if (find_nation(2) == "British" || find_nation(2) == "Dutch" || find_nation(2) == "French" || find_nation(2) == "Spanish" || find_nation(2) == "Americans") {
      set_ctw_int("Mexico", get_ctw_int("Mexico")+1);
    }
  }
  else if (find_nation(1) == "Maya") {
    if (find_nation(2) == "British" || find_nation(2) == "Dutch" || find_nation(2) == "French" || find_nation(2) == "Spanish" || find_nation(2) == "Americans") {
      set_ctw_int("Yucatan", get_ctw_int("Yucatan")+1);
    }
  }
  else if (find_nation(1) == "Inca") {
    if (find_nation(2) == "British" || find_nation(2) == "Dutch" || find_nation(2) == "French" || find_nation(2) == "Spanish" || find_nation(2) == "Americans") {
      set_ctw_int("Peru", get_ctw_int("Peru")+1);
    }
  }
  else if (find_nation(1) == "Lakota") {
    if (find_nation(2) == "British" || find_nation(2) == "Dutch" || find_nation(2) == "French" || find_nation(2) == "Spanish" || find_nation(2) == "Americans") {
      set_ctw_int("Dakota", get_ctw_int("Dakota")+1);
    }
  }
  else if (find_nation(1) == "Iroquois") {
    if (find_nation(2) == "British" || find_nation(2) == "Dutch" || find_nation(2) == "French" || find_nation(2) == "Spanish" || find_nation(2) == "Americans") {
      set_ctw_int("Lakes", get_ctw_int("Lakes")+1);
    }
  }
  else if (find_nation(1) == "British") {
    if (find_nation(2) == "Aztecs" || find_nation(2) == "Maya" || find_nation(2) == "Inca" || find_nation(2) == "Lakota" || find_nation(2) == "Iroquois") {
      set_ctw_int("Britain", get_ctw_int("Britain")+1);
    }
  }
  else if (find_nation(1) == "Dutch") {
    if (find_nation(2) == "Aztecs" || find_nation(2) == "Maya" || find_nation(2) == "Inca" || find_nation(2) == "Lakota" || find_nation(2) == "Iroquois") {
      set_ctw_int("Holland", get_ctw_int("Holland")+1);
    }
  }
  else if (find_nation(1) == "French") {
    if (find_nation(2) == "Aztecs" || find_nation(2) == "Maya" || find_nation(2) == "Inca" || find_nation(2) == "Lakota" || find_nation(2) == "Iroquois") {
      set_ctw_int("France", get_ctw_int("France")+1);
    }
  }
  else if (find_nation(1) == "Spanish") {
    if (find_nation(2) == "Aztecs" || find_nation(2) == "Maya" || find_nation(2) == "Inca" || find_nation(2) == "Lakota" || find_nation(2) == "Iroquois") {
      set_ctw_int("Spain", get_ctw_int("Spain")+1);
    }
  }
  else if (find_nation(1) == "Americans") {
    if (find_nation(2) == "Aztecs" || find_nation(2) == "Maya" || find_nation(2) == "Inca" || find_nation(2) == "Lakota" || find_nation(2) == "Iroquois") {
      set_ctw_int("Atlantic", get_ctw_int("Atlantic")+1);
    }
  }
}

String conquest capitalize(String nation)
{

  if (nation == "Aztecs") {
    return $S("Aztecs");
  }
  else if (nation == "Maya") {
    return $S("Maya");
  }
  else if (nation == "Inca") {
    return $S("Inca");
  }
  else if (nation == "Bantu") {
    return $S("Bantu");
  }
  else if (nation == "Nubians") {
    return $S("Nubians");
  }
  else if (nation == "Greeks") {
    return $S("Greeks");
  }
  else if (nation == "Romans") {
    return $S("Romans");
  }
  else if (nation == "Egyptians") {
    return $S("Egyptians");
  }
  else if (nation == "Turks") {
    return $S("Turks");
  }
  else if (nation == "Spanish") {
    return $S("Spanish");
  }
  else if (nation == "French") {
    return $S("French");
  }
  else if (nation == "British") {
    return $S("British");
  }
  else if (nation == "Germans") {
    return $S("Germans");
  }
  else if (nation == "Russians") {
    return $S("Russians");
  }
  else if (nation == "Chinese") {
    return $S("Chinese");
  }
  else if (nation == "Japanese") {
    return $S("Japanese");
  }
  else if (nation == "Koreans") {
    return $S("Koreans");
  }
  else if (nation == "Mongols") {
    return $S("Mongols");
  }
  else if (nation == "Iroquois") {
    return $S("Iroquois");
  }
  else if (nation == "Lakota") {
    return $S("Lakota");
  }
  else if (nation == "Americans") {
    return $S("Americans");
  }
  else if (nation == "Indians") {
    return $S("Indians");
  }
  else if (nation == "Dutch") {
    return $S("Dutch");
  }
  else if (nation == "Persian") {
    return $S("Persians");
  }
  else {
    return $S("Error");
  }
}

void conquest napoleon_rules() {

  for (i = 2; i < 9; i++) {
    enable_production_ai(i);
    enable_combat_ai(i);
    enable_all_unit_ai(i);

    gain_tech(i, "Despotism");
    gain_tech(i, "Monarchy");
  }

  int x;
  int y;
  int building;

  enable_type_by_tribe("Red Coats", "British", "Barracks", 0, 2);
  disable_type_by_tribe("Musketeers", "Germans");
  enable_type_by_tribe("Junkers", "Germans", "Barracks", 0, 0);
  disable_type_by_tribe("Continental Marines", "Americans");
  enable_type_by_tribe("Musketeers", "Americans");
  disable_type_by_tribe("Mortar", "Inca");
  enable_type_by_tribe("Cannon", "Inca");

  if (get_ctw_int("emperor") > 0) {  
    enable_type_by_tribe("Imperial Guard", "French", "Barracks", 0, 2);
  }
  disable_type_by_tribe("Ranger", "Iroquois");
  enable_type_by_tribe("Explorer", "Iroquois");
  disable_type_by_tribe("Culverin Mahout", "Persian");
  disable_type_by_tribe("Golden Horde", "Mongols");
  disable_type_by_tribe("Carabineer", "Mongols");

  for (i = 0; i < num_players(); i++) {
    if (find_nation(i+1) == "Americans") {
      gain_upgrade(i+1, "Musketeers");
    }
    if (find_nation(i+1) == "Inca") {
      gain_upgrade(i+1, "Cannon");
    }
    if (find_nation(i+1) == "Russians") {
      city_name = find_capital(i+1);
      building = find_city_id(city_name);
      x = object_position_x(i+1, building) + 2;
      y = object_position_y(i+1, building);
      create_unit(i+1, x, y, "Don Cossack", 5);
    }
    if (find_nation(i+1) == "British") {
      if (!have_tech(i+1, "Red Coats")) {
        gain_upgrade(i+1, "Red Coats");
      }
    }
    else if (find_nation(i+1) == "Germans") {
      if (!have_tech(i+1, "Junkers")) {
        gain_upgrade(i+1, "Junkers");
      }
    }
    else if (find_nation(i+1) == "French") {
      if (!have_tech(i+1, "Imperial Guard")) {
        gain_upgrade(i+1, "Imperial Guard");
      }
    }
    else if (find_nation(i+1) == "Iroquois") {
      if (!have_tech(i+1, "Explorer")) {
        gain_upgrade(i+1, "Explorer");
      }
    }
    else if (find_nation(i+1) == "Mongols") {
      if (!have_tech(i+1, "Carabineer")) {
        gain_upgrade(i+1, "Carabineer");
      }
    }
  }
}

void conquest coldwar_rules() {

  String nation_name;

  if (get_age() == 7) {
    for (i = 1; i < 9; i++) {
      //nation_name = find_nation(i);
      gain_upgrade(i, "Assault Infantry");
      gain_upgrade(i, "Anti-Tank Missile");
      gain_upgrade(i, "Advanced Machine Gun");
      gain_upgrade(i, "Elite Special Forces");
      gain_upgrade(i, "Rocket Artillery");
      gain_upgrade(i, "Main Battle Tank");
      gain_upgrade(i, "Armored Cavalry");
      gain_upgrade(i, "Anti-Aircraft Missile");
      gain_upgrade(i, "Jet Fighter");
      gain_upgrade(i, "Attack Helicopter");
      gain_upgrade(i, "Strategic Bomber");
      gain_upgrade(i, "Cruise Missile");
      gain_upgrade(i, "Missile Cruiser");
      gain_upgrade(i, "Attack Submarine");
      gain_upgrade(i, "Advanced Battleship");
    }
  }
      

  set_preq("Advanced Fighter", "Information Age", "Selective Service");
  set_preq("Stealth Bomber", "Information Age", "Computerization");

  for (i = 2; i < 9; i++) {
    enable_production_ai(i);
    enable_combat_ai(i);
    enable_all_unit_ai(i);
  }
  String capital;

  if (find_nation(1) == "Russians") {
    if (find_nation(2) == "Chinese") {
      gain_tech(2, "Despotism");
      gain_tech(2, "Monarchy");
      gain_tech(2, "Socialism");
    }
    else if (find_nation(2) == "Americans") {
      gain_tech(2, "Republic");
      gain_tech(2, "Democracy");
      gain_tech(2, "Capitalism");
    }
  }
  else if (find_nation(2) == "Americans") {
    gain_tech(2, "Despotism");
    gain_tech(2, "Monarchy");
    gain_tech(2, "Socialism");
  }


  for (i = 2; i < 9; i++) {
    nation_name = find_nation(i);
    if (nation_name == "Koreans" || nation_name == "British") {
      gain_tech(i, "Republic");
      gain_tech(i, "Democracy");
      gain_tech(i, "Capitalism");   
    }
    else if (nation_name == "Japanese" || nation_name == "Chinese" || nation_name == "Germans") {
      gain_tech(i, "Despotism");
      gain_tech(i, "Monarchy");
      gain_tech(i, "Socialism");   
    }
  }

  if (get_age() < 7) {
    for (i = 1; i < 9; i++) {
      if (num_cities(i) > 0) {
        capital = find_capital(i);
        if (!find_build_at_city(i, capital, "Senate", 1)) {
          place_building_upgrade(i, "Senate", capital);
        }
      }
      if (find_nation(i) == "Russians") {
        gain_tech(i, "Despotism"); 
        gain_tech(i, "Monarchy");
        gain_tech(i, "Socialism");
        enable_type_by_tribe("Red Guards Infantry", "Russians");
        enable_type_by_tribe("Katyusha Rocket", "Russians");
        if (!have_tech(i, "Katyusha Rocket")) {
          gain_upgrade(i, "Katyusha Rocket");
        }
        if (!have_tech(i, "Red Guards Infantry")) {
          gain_upgrade(i, "Red Guards Infantry");
        }
      }
      else if (find_nation(i) == "Americans") {
        gain_tech(i, "Republic");
        gain_tech(i, "Democracy");
        gain_tech(i, "Capitalism");
        enable_type_by_tribe("Marine Infantry", "Americans");
        if (!have_tech(i, "Marine Infantry")) {
          gain_upgrade(i, "Marine Infantry");
        }
      }
      if (!have_tech(i, "Fighter")) {
        gain_upgrade(i, "Fighter");
      }
      if (!have_tech(i, "Tank")) {
        gain_upgrade(i, "Tank");
      }
    }
  }
  else {
    for (i = 1; i < 9; i++) {
      if (num_cities(i) > 0) {
        capital = find_capital(i);
        if (!find_build_at_city(i, capital, "Senate", 1)) {
          place_building_upgrade(i, "Senate", capital);
        }
      }
      if (find_nation(i) == "Russians") {
        gain_tech(i, "Despotism");
        gain_tech(i, "Monarchy");
        gain_tech(i, "Socialism");
        enable_type_by_tribe("Shock Infantry", "Russians");
        if (!have_tech(i, "Shock Infantry")) {
          gain_upgrade(i, "Shock Infantry");
        }
        disable_type_by_tribe("Attack Submarine", "Russians");
        enable_type_by_tribe("Nuclear Missile Sub", "Russians", "Dock", 0, 3);
        gain_upgrade(i, "Nuclear Missile Sub");
      }
      else {
        gain_tech(i, "Republic");
        gain_tech(i, "Democracy");
        gain_tech(i, "Capitalism");
        enable_type_by_tribe("Assault Marine Infantry", "Americans");
        if (!have_tech(i, "Assault Marine Infantry")) {
          gain_upgrade(i, "Assault Marine Infantry");
        }
      }
      if (!have_tech(i, "Rocket Artillery")) {
        gain_upgrade(i, "Rocket Artillery");
      }
      if (!have_tech(i, "Jet Fighter")) {
        gain_upgrade(i, "Jet Fighter");
      }
      if (!have_tech(i, "Main Battle Tank")) {
        gain_upgrade(i, "Main Battle Tank");
      }
    }
  }
  disable_type("Nuclear Missile");
  disable_type("ICBM");
  //////////americans
  enable_type_by_tribe("Humvee", "Americans", "Stable", 0, 2);

  /////////vietnamese
  disable_type_by_tribe("Howitzer", "Mongols");
  disable_type_by_tribe("Rocket Artillery", "Mongols");
  enable_type_by_tribe("Artillery", "Mongols");
  disable_type_by_tribe("Anti-Aircraft Battery", "Mongols");
  disable_type_by_tribe("Anti-Aircraft Missile", "Mongols");
  enable_type_by_tribe("Anti-Aircraft Gun", "Mongols");
  disable_type_by_tribe("Helicopter", "Mongols");
  disable_type_by_tribe("Attack Helicopter", "Mongols");
  disable_type_by_tribe("Missile Silo", "Mongols");
  disable_type_by_tribe("Jet Fighter", "Mongols");
  disable_type_by_tribe("Main Battle Tank", "Mongols");
  disable_type_by_tribe("Anti-Tank Missile", "Mongols");
  disable_type_by_tribe("Battleship", "Mongols");
  disable_type_by_tribe("Advanced Battleship", "Mongols");
  disable_type_by_tribe("Strategic Bomber", "Mongols");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Mongols");
    enable_type_by_tribe("Bomber", "Mongols");
    enable_type_by_tribe("Tank", "Mongols");
    enable_type_by_tribe("Bazooka", "Mongols");
  }

  //////////ethiopians
  disable_type_by_tribe("Howitzer", "Nubians");
  disable_type_by_tribe("Rocket Artillery", "Nubians");
  enable_type_by_tribe("Artillery", "Nubians");
  disable_type_by_tribe("Anti-Aircraft Battery", "Nubians");
  disable_type_by_tribe("Anti-Aircraft Missile", "Nubians");
  enable_type_by_tribe("Anti-Aircraft Gun", "Nubians");
  disable_type_by_tribe("Airbase", "Nubians");
  disable_type_by_tribe("Missile Silo", "Nubians");
  disable_type_by_tribe("Jet Fighter", "Nubians");
  disable_type_by_tribe("Main Battle Tank", "Nubians");
  disable_type_by_tribe("Anti-Tank Missile", "Nubians");
  disable_type_by_tribe("Battleship", "Nubians");
  disable_type_by_tribe("Advanced Battleship", "Nubians");
  disable_type_by_tribe("Strategic Bomber", "Nubians");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Nubians");
    enable_type_by_tribe("Bomber", "Nubians");
    enable_type_by_tribe("Tank", "Nubians");
    enable_type_by_tribe("Bazooka", "Nubians");
  }

  //////////congolese
  disable_type_by_tribe("Howitzer", "Dutch");
  disable_type_by_tribe("Rocket Artillery", "Dutch");
  enable_type_by_tribe("Artillery", "Dutch");
  disable_type_by_tribe("Anti-Aircraft Battery", "Dutch");
  disable_type_by_tribe("Anti-Aircraft Missile", "Dutch");
  enable_type_by_tribe("Anti-Aircraft Gun", "Dutch");
  disable_type_by_tribe("Airbase", "Dutch");
  disable_type_by_tribe("Missile Silo", "Dutch");
  disable_type_by_tribe("Jet Fighter", "Dutch");
  disable_type_by_tribe("Main Battle Tank", "Dutch");
  disable_type_by_tribe("Anti-Tank Missile", "Dutch");
  disable_type_by_tribe("Battleship", "Dutch");
  disable_type_by_tribe("Advanced Battleship", "Dutch");
  disable_type_by_tribe("Strategic Bomber", "Dutch");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Dutch");
    enable_type_by_tribe("Bomber", "Dutch");
    enable_type_by_tribe("Tank", "Dutch");
    enable_type_by_tribe("Bazooka", "Dutch");
  }

  ///////////algierians
  disable_type_by_tribe("Howitzer", "French");
  disable_type_by_tribe("Rocket Artillery", "French");
  enable_type_by_tribe("Artillery", "French");
  disable_type_by_tribe("Anti-Aircraft Battery", "French");
  disable_type_by_tribe("Anti-Aircraft Missile", "French");
  enable_type_by_tribe("Anti-Aircraft Gun", "French");
  disable_type_by_tribe("Airbase", "French");
  disable_type_by_tribe("Missile Silo", "French");
  disable_type_by_tribe("Jet Fighter", "French");
  disable_type_by_tribe("Main Battle Tank", "French");
  disable_type_by_tribe("Anti-Tank Missile", "French");
  disable_type_by_tribe("Battleship", "French");
  disable_type_by_tribe("Advanced Battleship", "French");
  disable_type_by_tribe("Strategic Bomber", "French");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "French");
    enable_type_by_tribe("Bomber", "French");
    enable_type_by_tribe("Tank", "French");
    enable_type_by_tribe("Bazooka", "French");
  }

  ///////////cubans
  disable_type_by_tribe("Howitzer", "Lakota");
  disable_type_by_tribe("Rocket Artillery", "Lakota");
  enable_type_by_tribe("Artillery", "Lakota");
  disable_type_by_tribe("Anti-Aircraft Battery", "Lakota");
  disable_type_by_tribe("Anti-Aircraft Missile", "Lakota");
  enable_type_by_tribe("Anti-Aircraft Gun", "Lakota");
  disable_type_by_tribe("Helicopter", "Lakota");
  disable_type_by_tribe("Attack Helicopter", "Lakota");
  disable_type_by_tribe("Missile Silo", "Lakota");
  disable_type_by_tribe("Jet Fighter", "Lakota");
  disable_type_by_tribe("Main Battle Tank", "Lakota");
  disable_type_by_tribe("Anti-Tank Missile", "Lakota");
  disable_type_by_tribe("Battleship", "Lakota");
  disable_type_by_tribe("Advanced Battleship", "Lakota");
  disable_type_by_tribe("Strategic Bomber", "Lakota");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Lakota");
    enable_type_by_tribe("Bomber", "Lakota");
    enable_type_by_tribe("Tank", "Lakota");
    enable_type_by_tribe("Bazooka", "Lakota");
  }

  ///////////afghans
  disable_type_by_tribe("Howitzer", "Persian");
  disable_type_by_tribe("Rocket Artillery", "Persian");
  enable_type_by_tribe("Artillery", "Persian");
  disable_type_by_tribe("Anti-Aircraft Battery", "Persian");
  disable_type_by_tribe("Anti-Aircraft Missile", "Persian");
  enable_type_by_tribe("Anti-Aircraft Gun", "Persian");
  disable_type_by_tribe("Helicopter", "Persian");
  disable_type_by_tribe("Attack Helicopter", "Persian");
  disable_type_by_tribe("Missile Silo", "Persian");
  disable_type_by_tribe("Jet Fighter", "Persian");
  disable_type_by_tribe("Main Battle Tank", "Persian");
  disable_type_by_tribe("Anti-Tank Missile", "Persian");
  disable_type_by_tribe("Battleship", "Persian");
  disable_type_by_tribe("Advanced Battleship", "Persian");
  disable_type_by_tribe("Strategic Bomber", "Persian");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Persian");
    enable_type_by_tribe("Bomber", "Persian");
    enable_type_by_tribe("Tank", "Persian");
    enable_type_by_tribe("Bazooka", "Persian");
  }

  ///////////middle east guys
  disable_type_by_tribe("Howitzer", "Turks");
  disable_type_by_tribe("Rocket Artillery", "Turks");
  enable_type_by_tribe("Artillery", "Turks");
  disable_type_by_tribe("Anti-Aircraft Battery", "Turks");
  disable_type_by_tribe("Anti-Aircraft Missile", "Turks");
  enable_type_by_tribe("Anti-Aircraft Gun", "Turks");
  disable_type_by_tribe("Helicopter", "Turks");
  disable_type_by_tribe("Attack Helicopter", "Turks");
  disable_type_by_tribe("Missile Silo", "Turks");
  disable_type_by_tribe("Jet Fighter", "Turks");
  disable_type_by_tribe("Main Battle Tank", "Turks");
  disable_type_by_tribe("Anti-Tank Missile", "Turks");
  disable_type_by_tribe("Battleship", "Turks");
  disable_type_by_tribe("Advanced Battleship", "Turks");
  disable_type_by_tribe("Strategic Bomber", "Turks");
  if (get_age() == 7) {
    enable_type_by_tribe("Fighter", "Turks");
    enable_type_by_tribe("Bomber", "Turks");
    enable_type_by_tribe("Tank", "Turks");
    enable_type_by_tribe("Bazooka", "Turks");
  }

  for (i = 0; i < num_players(); i++) {
    if (find_nation(i+1) == "Americans") {
      if (get_age() == 7) {
        if (!have_tech(i+1, "Humvee")) {
          gain_upgrade(i+1, "Humvee");
        }
      }
    }
    else if (find_nation(i+1) == "Mongols" || find_nation(i+1) == "Nubians" || find_nation(i+1) == "French" || find_nation(i+1) == "Lakota" || find_nation(i+1) == "Persian" || find_nation(i+1) == "Dutch" || find_nation(i+1) == "Romans") {
      if (!have_tech(i+1, "Artillery")) {
        gain_upgrade(i+1, "Artillery");
      }
      if (!have_tech(i+1, "Anti-Aircraft Gun")) {
        gain_upgrade(i+1, "Anti-Aircraft Gun");
      }
      if (get_age() == 7) {
        if (!have_tech(i+1, "Fighter")) {
          gain_upgrade(i+1, "Fighter");
        }
        if (!have_tech(i+1, "Bomber")) {
          gain_upgrade(i+1, "Bomber");
        }
        if (!have_tech(i+1, "Tank")) {
          gain_upgrade(i+1, "Tank");
        }
        if (!have_tech(i+1, "Bazooka")) {
          gain_upgrade(i+1, "Bazooka");
        }
      }

    }
  }

  set_age_diff_penalty(1, 8);
  set_age_diff_penalty(2, 12);
}

void conquest barbarian_rules()
{

  int nation;
  String tribe;
  String unit_list[];
  int epoch = get_age();
  int archer = 0;
  int heavy = 1;
  int light = 2;

  if (epoch == 0) {
    unit_list = ["Bowmen", "Hoplites", "Slingers"];
    set_object_type_max_health("Barbarian Archer", 70);
    set_object_type_max_health("Barbarian Javelineers", 85);
    set_object_type_max_health("Barbarian Phalanx", 120);
    //set_preq("Barbarian Archer", "Ancient Age", "The Art of War");
    //set_preq("Barbarian Phalanx", "Ancient Age", "The Art of War");
    //set_preq("Barbarian Javelineers", "Ancient Age", "The Art of War");
  }
  else if (epoch == 1) {
    unit_list = ["Archers", "Phalanx", "Javelineers"];
    //set_preq("Barbarian Archer", "Classical Age", "The Art of War");
    //set_preq("Barbarian Phalanx", "Classical Age", "The Art of War");
    //set_preq("Barbarian Javelineers", "Classical Age", "The Art of War");
  }
  else {
    unit_list = ["Crossbowmen", "Pikemen", "Elite Javelineers"];
    set_object_type_max_health("Barbarian Archer", 90);
    set_object_type_max_health("Barbarian Phalanx", 170);
    set_object_type_max_health("Barbarian Javelineers", 110);
    //set_preq("Barbarian Archer", "Medieval Age", "The Art of War");
    //set_preq("Barbarian Phalanx", "Medieval Age", "The Art of War");
    //set_preq("Barbarian Javelineers", "Medieval Age", "The Art of War");
  }

  for (nation = 2; nation <= num_players(); nation++) {
    gain_tech(nation, "The Art of War");
    tribe = find_nation(nation);
    
    disable_type_by_tribe(unit_list[light], tribe);
    disable_type_by_tribe(unit_list[heavy], tribe);
    disable_type_by_tribe(unit_list[archer], tribe);

    enable_type_by_tribe("Barbarian Javelineers", tribe, "Barracks", 0, 0);
    enable_type_by_tribe("Barbarian Phalanx", tribe, "Barracks", 0, 1);
    enable_type_by_tribe("Barbarian Archer", tribe, "Barracks", 0, 2);

    gain_upgrade(nation, "Barbarian Javelineers");
    gain_upgrade(nation, "Barbarian Phalanx");
    gain_upgrade(nation, "Barbarian Archer");
  }

}

void conquest barbarian_upgrade() 
{

  if (get_ending_age() == 1) {
    unit_list = ["Bowmen", "Hoplites", "Slingers"];
    set_object_type_max_health("Barbarian Archer", 80);
    set_object_type_max_health("Barbarian Javelineers", 95);
    set_object_type_max_health("Barbarian Phalanx", 140);    
  }
  else if (get_ending_age() == 2) {
    unit_list = ["Crossbowmen", "Pikemen", "Elite Javelineers"];
    set_object_type_max_health("Barbarian Archer", 90);
    set_object_type_max_health("Barbarian Phalanx", 170);
    set_object_type_max_health("Barbarian Javelineers", 110);
  }
  else {
    for (nation = num_players(); nation > 1; nation--) {
      tribe = find_nation(nation);
      disable_type_by_tribe("Barbarian Archer", tribe);
      enable_type_by_tribe("Crossbowmen", tribe, "Barracks", 0, 2);
      gain_upgrade(nation, "Crossbowmen");
      disable_type_by_tribe("Barbarian Phalanx", tribe);
      if (age(nation) == 3) {
        enable_type_by_tribe("Elite Pikemen", tribe, "Barracks", 0, 1);
        gain_upgrade(nation, "Elite Pikemen");
      }
      else {
        enable_type_by_tribe("Pikemen", tribe, "Barracks", 0, 1);
        gain_upgrade(nation, "Pikemen");
      }
      disable_type_by_tribe("Barbarian Javelineers", tribe);
      if (age(nation) == 3) {
        enable_type_by_tribe("Arquebusiers", tribe, "Barracks", 0, 0);
        gain_upgrade(nation, "Arquebusiers");
      }
      else {
        enable_type_by_tribe("Elite Javelineers", tribe, "Barracks", 0, 0);
        gain_upgrade(nation, "Elite Javelineerss");
      }
    }    
  }

}